//------------------------------------------------------------------------------------------
//	Includes
//------------------------------------------------------------------------------------------
#include "FPS.h"

//------------------------------------------------------------------------------------------
//	constructor & destructor
//------------------------------------------------------------------------------------------
FPS::FPS()
{
	SecureZeroMemory(this, sizeof(FPS));
	counter = -2;
}
FPS::~FPS()
{
}

//------------------------------------------------------------------------------------------
//	FPS‚ÌŒvŽZE•\Ž¦
//------------------------------------------------------------------------------------------
void FPS::COUNTER(HWND hWnd)
{
	char str[60];

	sprintf(str, "fps=%d avg_fps=%d", frame, avgFrame);

	frame++;

	if (timeGetTime() - time>1000)
	{
		++counter;

		if (counter>0) {
			
			sumFrame += frame;

			avgFrame = sumFrame / counter;

		}
		
		SetWindowTextA(hWnd, str);

		time = timeGetTime();
		frame = 0;
	}
}